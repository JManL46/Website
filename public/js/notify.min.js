!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){var e=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},i="notify",n=i+"js",o=i+"!blank",r={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},s=["l","c","r"],a=["t","m","b"],l=["t","b","l","r"],h={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},c={},p={name:"core",html:'<div class="'+n+'-wrapper">\n\t<div class="'+n+'-arrow"></div>\n\t<div class="'+n+'-container"></div>\n</div>',css:"."+n+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+n+"-corner ."+n+"-wrapper,\n."+n+"-corner ."+n+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+n+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+n+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+n+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+n+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},d={"border-radius":["-webkit-","-moz-"]},u=function(e,o){if(!e)throw"Missing Style name";if(!o)throw"Missing Style definition";if(!o.html)throw"Missing Style HTML";var r=c[e];r&&r.cssElem&&(window.console&&console.warn(i+": overwriting style '"+e+"'"),c[e].cssElem.remove()),o.name=e,c[e]=o;var s="";o.classes&&t.each(o.classes,function(e,i){return s+="."+n+"-"+o.name+"-"+e+" {\n",t.each(i,function(e,i){return d[e]&&t.each(d[e],function(t,n){return s+="\t"+n+e+": "+i+";\n"}),s+="\t"+e+": "+i+";\n"}),s+="}\n"}),o.css&&(s+="/* styles for "+o.name+" */\n"+o.css),s&&(o.cssElem=f(s),o.cssElem.attr("id","notify-"+o.name));var a={},l=t(o.html);m("html",l,a),m("text",l,a),o.fields=a},f=function(e){var i;(i=g("style")).attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(t){i[0].styleSheet.cssText=e}return i},m=function(e,i,n){var r;return"html"!==e&&(e="text"),w(i,"["+(r="data-notify-"+e)+"]").each(function(){var i;(i=t(this).attr(r))||(i=o),n[i]=e})},w=function(t,e){return t.is(e)?t:t.find(e)},y={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},b=function(e,i){var n;return(n=function(){}).prototype=e,t.extend(!0,new n,i)},g=function(e){return t("<"+e+"></"+e+">")},v={},x=function(e){var i;return e.is("[type=radio]")&&(i=e.parents("form:first").find("[type=radio]").filter(function(i,n){return t(n).attr("name")===e.attr("name")}),e=i.first()),e},D=function(t,e,i){var n;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return e,void 0!==t[n=r[h[e.charAt(0)]]]&&(e=r[n.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},S=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},C=function(t){return C.e=C.e||g("div"),C.e.text(t).html()};function E(e,i,o){"string"==typeof o&&(o={className:o}),this.options=b(y,t.isPlainObject(o)?o:{}),this.loadHTML(),this.wrapper=t(p.html),this.options.clickToHide&&this.wrapper.addClass(n+"-hidable"),this.wrapper.data(n,this),this.arrow=this.wrapper.find("."+n+"-arrow"),this.container=this.wrapper.find("."+n+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=x(e),this.elem.data(n,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}E.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},E.prototype.show=function(t,e){var i,n,o,r,s,a;if(a=this,n=function(){if(t||a.elem||a.destroy(),e)return e()},s=this.container.parent().parents(":hidden").length>0,o=this.container.add(this.arrow),i=[],s&&t)r="show";else if(s&&!t)r="hide";else if(!s&&t)r=this.options.showAnimation,i.push(this.options.showDuration);else{if(s||t)return n();r=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),o[r].apply(o,i)},E.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],o=e[1],s=r[i],a=r[o],l=i+"|"+o,h=v[l];if(!h||!document.body.contains(h[0])){h=v[l]=g("div");var c={};c[s]=0,"middle"===a?c.top="45%":"center"===a?c.left="45%":c[a]=0,h.css(c).addClass(n+"-corner"),t("body").append(h)}return h.prepend(this.wrapper)},E.prototype.setElementPosition=function(){var i,n,o,c,p,d,u,f,m,w,y,b,g,v,x,C,E,k,P,A,N,j,H,T,F,M,z,q;for(H=(M=this.getPosition())[0],j=M[1],M[2],y=this.elem.position(),f=this.elem.outerHeight(),b=this.elem.outerWidth(),m=this.elem.innerHeight(),w=this.elem.innerWidth(),q=this.wrapper.position(),p=this.container.height(),d=this.container.width(),k=r[H],(u={})[N=r[A=h[H]]]="b"===H?f:"r"===H?b:0,D(u,"top",y.top-q.top),D(u,"left",y.left-q.left),v=0,C=(z=["top","left"]).length;v<C;v++)T=z[v],(P=parseInt(this.elem.css("margin-"+T),10))&&D(u,T,P);if(g=Math.max(0,this.options.gap-(this.options.arrowShow?o:0)),D(u,N,g),this.options.arrowShow){for(o=this.options.arrowSize,n=t.extend({},u),i=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",x=0,E=l.length;x<E;x++)F=r[T=l[x]],T!==A&&(c=F===k?i:"transparent",n["border-"+F]=o+"px solid "+c);D(u,r[A],o),e.call(l,j)>=0&&D(n,r[j],2*o)}else this.arrow.hide();if(e.call(a,H)>=0?(D(u,"left",S(j,d,b)),n&&D(n,"left",S(j,o,w))):e.call(s,H)>=0&&(D(u,"top",S(j,p,f)),n&&D(n,"top",S(j,o,m))),this.container.is(":visible")&&(u.display="block"),this.container.removeAttr("style").css(u),n)return this.arrow.removeAttr("style").css(n)},E.prototype.getPosition=function(){var i,n,o,h,c,p,d,u,f,m;if(u=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),f=u,m=[],t.each(f.split(/\W+/),function(t,e){var i;if(i=e.toLowerCase().charAt(0),r[i])return m.push(i)}),0===(i=m).length&&(i[0]="b"),n=i[0],e.call(l,n)<0)throw"Must be one of ["+l+"]";return(1===i.length||(o=i[0],e.call(a,o)>=0&&(h=i[1],e.call(s,h)<0))||(c=i[0],e.call(s,c)>=0&&(p=i[1],e.call(a,p)<0)))&&(i[1]=(d=i[0],e.call(s,d)>=0?"m":"l")),2===i.length&&(i[2]=i[1]),i},E.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=c[t]))throw"Missing style: "+t;return e},E.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,function(t){return n+"-"+i.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},E.prototype.run=function(e,i){var n,r,s,a,l;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),!this.container||e){if(this.container||e){for(s in r={},t.isPlainObject(e)?r=e:r[o]=e,r)n=r[s],(a=this.userFields[s])&&("text"===a&&(n=C(n),this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>"))),l=s===o?"":"="+s,w(this.userContainer,"[data-notify-"+a+l+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},E.prototype.destroy=function(){this.wrapper.data(n,null),this.wrapper.remove()},t[i]=function(e,n,o){return e&&e.nodeName||e.jquery?t(e)[i](n,o):(o=n,new E(null,n=e,o)),e},t.fn[i]=function(e,i){return t(this).each(function(){var o=x(t(this)).data(n);o&&o.destroy();new E(t(this),e,i)}),this},t.extend(t[i],{defaults:function(e){return t.extend(y,e)},addStyle:u,removeStyle:function(t){if(!t)throw"Missing Style name";c[t]&&delete c[t]},pluginOptions:y,getStyle:function(t){return c[t]},insertCSS:f}),u("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5"}}}),t(function(){f(p.css).attr("id","core-notify"),t(document).on("click","."+n+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+n+"-wrapper",function(e){var i=t(this).data(n);i&&i.show(!1)})})});